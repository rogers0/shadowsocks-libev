From: Max Lv <max.c.lv@gmail.com>
Date: Mon, 16 Oct 2017 15:51:05 +0800
Subject: Fix #1739

(cherry picked from commit b3f3b58a1d33da73f42420e1d4ec904beb5a9761)
---
 src/jconf.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/jconf.c b/src/jconf.c
index 70b92f0..98942c2 100644
--- a/src/jconf.c
+++ b/src/jconf.c
@@ -247,7 +247,7 @@ read_jconf(const char *file)
                 conf.user = to_string(value);
             } else if (strcmp(name, "plugin") == 0) {
                 conf.plugin = to_string(value);
-                if (strlen(conf.plugin) == 0) {
+                if (conf.plugin && strlen(conf.plugin) == 0) {
                     ss_free(conf.plugin);
                     conf.plugin = NULL;
                 }
