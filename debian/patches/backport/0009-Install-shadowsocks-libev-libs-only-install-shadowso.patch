From: wener <wenermail@gmail.com>
Date: Sun, 26 Mar 2017 20:46:30 +0800
Subject: Install shadowsocks-libev libs only, install shadowsocks.h header

---
 src/CMakeLists.txt | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index d1f3cc7..123a87c 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -200,8 +200,10 @@ target_link_libraries(shadowsocks-libev-shared cork-shared ipset-shared ${DEPS_S
 # Recommend to install shared by default
 install(DIRECTORY ${RUNTIME_SHARED_OUTPUT_DIRECTORY}/
         DESTINATION bin)
-install(DIRECTORY ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/
-        DESTINATION lib)
+install(TARGETS shadowsocks-libev shadowsocks-libev-shared
+        LIBRARY DESTINATION lib
+        ARCHIVE DESTINATION lib)
+install(FILES shadowsocks.h DESTINATION include)
 
 
 add_custom_target(distclean
